{% extends "base.html" %}
{% block content %}
<div class="container mt-4">
    <div class="card shadow-sm border-0">
        <div class="card-header bg-warning text-dark d-flex justify-content-between align-items-center">
            <h5 class="mb-0"><i class="bi bi-arrow-repeat"></i> Order Material</h5>
            <a href="{{ url_for('inventory') }}" class="btn btn-sm btn-light">
                <i class="bi bi-arrow-left"></i> Back to Inventory
            </a>
        </div>

        <div class="card-body">
            <div class="mb-4">
                <h5 class="fw-semibold">{{ material.name }}</h5>
                <p class="text-muted mb-1">
                    <i class="bi bi-box"></i> Current Quantity:
                    <span class="fw-bold text-dark">{{ material.quantity }} {{ material.unit }}</span>
                </p>
                <p class="text-muted mb-0">
                    <i class="bi bi-exclamation-triangle"></i> Reorder Point:
                    <span class="fw-bold text-danger">{{ material.reorder_point }}</span>
                </p>
            </div>

            <form method="POST" action="{{ url_for('reorder', material_id=material.id) }}">
                <div class="row g-3">
                    <div class="col-md-6">
                        <label for="supplier" class="form-label fw-semibold">Supplier</label>
                        <select class="form-select" id="supplier" name="supplier_id" required>
                            <option value="" selected> Select a supplier </option>
                            {% for supplier in suppliers %}
                            <option value="{{ supplier.id }}" {% if material.supplier_id==supplier.id %}selected{% endif
                                %}>
                                {{ supplier.name }}
                            </option>
                            {% endfor %}
                        </select>
                    </div>

                    <div class="col-md-6">
                        <label for="quantity" class="form-label fw-semibold">Order Quantity</label>
                        <input type="number" class="form-control" id="quantity" name="quantity" min="1"
                            placeholder="Enter quantity to reorder" required>
                    </div>

                    <div class="col-md-12">
                        <label for="notes" class="form-label fw-semibold">Notes (Optional)</label>
                        <textarea class="form-control" id="notes" name="notes" rows="3"
                            placeholder="Add any remarks or details about this reorder..."></textarea>
                    </div>
                </div>

                <div class="mt-4 text-end">
                    <button type="submit" class="btn btn-warning">
                        <i class="bi bi-send"></i> Confirm Reorder
                    </button>
                    <a href="{{ url_for('inventory') }}" class="btn btn-outline-secondary ms-2">
                        Cancel
                    </a>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %}